Tenemos un repositorio de github que se llama vulhub que nos ofrece Dockerfiles para montarnos contenedores vulnerables y practicar hacking:
![[Pasted image 20230418103407.png]]
Y por ejemplo aquí tenemos un fichero .yml para montar con Docker Compose para practicar un local file inclusion:
![[Pasted image 20230418103610.png]]
Para montarnos esto, podemos bajarnos el fichero yml con wget y lo ejecutamos con un docker-compose up -d:
![[Pasted image 20230418104121.png]]
Y ahora ya podemos acceder al navegador por el puerto 5601 que es donde está corriendo esto:
![[Pasted image 20230418104157.png]]
![[Pasted image 20230418104209.png]]
Ahora si quisiera explotar este Local File Inclusion [[Local File Inclussion (LFI)]] podría investigar como hacerlo en github:
![[Pasted image 20230418104330.png]]
Lo probamos en ejecutar con curl:
![[Pasted image 20230418105105.png]]
Y vemos que da error, pero en github nos dicen que si miramos los logs veremos el output:
```bash
docker-compose logs
```
![[Pasted image 20230418105206.png]]
## OTRO EJEMPLO - VULNERABILIDAD IMAGEMAGICK
Vamos a explotar esta vulnerabilidad que nos permite ejecutar un comando a la hora de que el servicio procese contenido multimedia. 
![[Pasted image 20230418111117.png]]
Nos bajamos el docker-compose.yml y el fichero .php, para después desplegarlo todo:
![[Pasted image 20230418112112.png]]
![[Pasted image 20230418111219.png]]
Y vemos que esto corre por el puerto 8080:
![[Pasted image 20230418111251.png]]
Lo tenemos en la web:
![[Pasted image 20230418112128.png]]
Vamos a buscar una imagen que tenga contenido malicioso que nos envíe una reverse shell. 